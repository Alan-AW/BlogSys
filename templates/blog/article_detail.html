{% extends 'users/HomeBase.html' %}
{% load static %}
{% load my_tags %}

<!-- æ ‡é¢˜ -->
{% block title %}
    <link rel="stylesheet" href="{% static 'css/article_detail.css' %}">
    <!-- ä½¿ç”¨ä»»æ„ä»£ç å—åˆ†å‰²æ’ä»¶è‡ªåŠ¨å°†ä»£ç å…³é”®å­—åŠ ä¸Šç›¸åº”æ ‡ç­¾ï¼Œä½¿ç”¨çš„æ˜¯ä¸€æ¬¾åå« prism çš„æ’ä»¶ -->
    <script src="//cdn.jsdelivr.net/gh/cetr/cdn@master/prism.min.js"></script>
{% endblock %}

<!-- æ–‡ç« è¯¦æƒ…æ˜¾ç¤º -->
{% block main %}
    <div id="article-detail-show">
        {% csrf_token %}
        <!-- æ–‡ç« æ ‡é¢˜ -->
        <h1 style="text-align: center;margin-bottom: 2rem">{{ article_obj.article.title }}</h1>
        <hr style="size: 2px;margin-bottom: 1.2rem">
        <!-- æ–‡ç« è¯¦æƒ… -->
        <div class="article-desc-p" style="line-height: 30px"
           article_id="{{ article_obj.nid }}">{{ article_obj.count|safe }}</div>
    </div>

    <!-- ç‚¹èµå’Œè¸©ç­ -->
    <div class="up_down">
        <p class="ask" style="color: whitesmoke;background-color: rgb(0,120,215)">è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ç”¨å—?ğŸ”œ</p>
        <div class="digg-body">
            <div class="digg to-up">
                <div class="for-img">
                    <img src="{% static 'img/tools-img/upup-dd.png' %}" alt="èµ" title="å¾ˆæ£’!èµä¸€ä¸ª~">
                </div>
                <span class="showUp showcount"
                      style="color: green;margin-left: 10px">{{ article_obj.article.up_count }}</span>
            </div>

            <div class="digg to-down">
                <span class="showDown showcount"
                      style="color: red;margin-right: 10px">{{ article_obj.article.down_count }}</span>
                <div class="for-img">
                    <img src="{% static 'img/tools-img/upup-dd.png' %}" alt="è¸©" title="ä¸æ•¢è‹ŸåŒ!è¸©ä¸€ä¸ª~">
                </div>
            </div>
        </div>

        <span class="error" style="color: red" id="to_up_error"></span>
    </div>

    <!-- ç‰ˆæƒå£°æ˜ -->
    <div class="Copyright Notice">
        <div class="statement">
            <ul>
                <li>ä½œè€…ï¼š<span class="article_username"
                             id="{{ article_obj.article.user }}">{{ article_obj.article.user }}</span><a
                        href="/{{ article_obj.article.user }}/"
                        style="color: deepskyblue"
                        target="_blank">  {# æ–°å¼€é¡µé¢ #}
                    ï¼ˆè”ç³»ä½œè€…ï¼‰</a></li>
                <li>å‘è¡¨æ—¶é—´ï¼š<span>{{ article_obj.article.create_time|date:'Y/m/d H:s' }}</span></li>
                <li>ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²åï¼ˆåˆ›æ„å…±äº«3.0è®¸å¯è¯ï¼‰</li>
                <li>è½¬è½½å£°æ˜ï¼šå¦‚æœæ˜¯è½¬è½½ç«™é•¿è½¬è½½çš„æ–‡ç« ï¼Œè¯·é™„ä¸ŠåŸæ–‡é“¾æ¥</li>
                <li>å…¬ä¼—å·è½¬è½½ï¼šè¯·åœ¨æ–‡æœ«æ·»åŠ æœ¬ç«™äºŒç»´ç ï¼ˆäºŒç»´ç è§å³è¾¹ï¼Œæ¬¢è¿å…³æ³¨ï¼‰</li>
            </ul>
        </div>
        <!-- ç½‘ç«™äºŒç»´ç  -->
        <div class="my-site-img">
            <img src="{% static 'img/my_site.png' %}" alt="" class="" style="width: 120px">
        </div>
    </div>

    <!-- è¯„è®ºåŒº -->


    <div class="comment">
        <p style="text-align: left;font-size: 2rem;color: deepskyblue;border-bottom: 3px double lightblue;padding-left: 20px">
            è¯„è®ºåŒº:</p>

        <!-- ç™»å½•æ‰å¯ä»¥è¯„è®º -->
        {% if request.user.is_authenticated %}
            <textarea class="comment-text" name="user_comment" id="content" rows="3"
                      placeholder="è¿˜æ˜¯è¯´ç‚¹ä»€ä¹ˆå§ï¼Œo(ï¿£ãƒ˜ï¿£oï¼ƒ)å“¼..."></textarea>
            <input type="button" id="default_comment_button" name="submit_comment" value="å‘è¡¨" class="sub_comment">
        {% else %}
            <p class="not_login" style="line-height: 22px;font-size: 22px">è¯·å…ˆ<a href="{% url 'users:login' %}">ç™»å½•</a>åè¯„è®º
            </p>
        {% endif %}

        <!-- æ˜¾ç¤ºè¯„è®º -->
        <div class="show_comment">
            <p><span id="howmany" style="color: lightcoral">{{ article_obj.article.comment_count }}</span>æ¡è¯„è®º</p>
            {% for comment in comment_obj %}
                <div class="one-of-comment-tree" self_id="{{ comment.pk }}">
                    <div class="show-avatar">
                        <img src="{% static 'img/bg_img/batterfly.jpg' %}" id="show-avatar" alt="å¤´åƒåŠ è½½å¤±è´¥">
                    </div>
                    <p class="username" style="margin-bottom: 10px;color: lightcoral">{{ comment.user.username }}:</p>
                    <p class="comment-time" style="color: grey">{{ comment.create_time|date:'Y/m/d H:s' }}</p>
                    <p class="comment-desc" style="margin-top: 5px;margin-left: 60px;color: deepskyblue">{{ comment.content }}</p>
                    {% if request.user.is_authenticated %}
                        <input type="button" class="replay" value="å›å¤">
                    {% endif %}
                    <input type="button" class="get_son_comment" value="......"
                           style="outline: none;border-radius: 20%;border: none;background-color: rgba(0,0,0,0);color: #0f0f0f">
                </div>
            {% endfor %}
        </div>
    </div>

    <script src="{% static 'js/article_detail.js' %}"></script>
{% endblock %}

<!-- å³ä¾§è¯¦æƒ… -->
{% block right %}
    {% get_classification_style username %}
{% endblock %}